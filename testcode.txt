// basic example of macro
!define CRIT(atk, ndmg, cdmg, target) ((d20[1:19] + atk >= target -> ndmg) + (d20[20] + atk >= target -> cdmg))

!define AC_RANGE [12:18]
# With CRIT
CRIT(4, 2d6, 2d6 / 2, AC_RANGE)

# With smite on CRIT
// Just add another distribution to the CRIT
CRIT(4, 2d6, 2d6 / 2, AC_RANGE) + (d20[20] >= AC_RANGE -> 3d8)

# Simple distribution
2d6

# average
-> 2d6
